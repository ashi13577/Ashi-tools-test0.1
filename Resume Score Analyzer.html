<!DOCTYPE html>
<html>
<head>
            <style></style>
        </head>
        <body data-new-gr-c-s-check-loaded="14.1239.0" data-gr-ext-installed="">
            


    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resume Score Analyzer - Ashi Tools</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mammoth/1.4.2/mammoth.browser.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
    <style>
        :root {
            --primary: #00ffd5;
            --secondary: #00b39e;
            --dark-bg: #0e0e0e;
            --card-bg: #1e1e1e;
            --text-light: #cccccc;
            --border: #333;
            --success: #28a745;
            --danger: #dc3545;
            --warning: #ffc107;
            --info: #17a2b8;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', 'Roboto', sans-serif;
            background-color: var(--dark-bg);
            color: #ffffff;
            line-height: 1.6;
            min-height: 100vh;
        }

        /* Header */
        header {
            text-align: center;
            padding: 40px 20px;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%);
            position: relative;
            border-bottom: 3px solid var(--primary);
        }

        header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            color: var(--primary);
            text-shadow: 0 0 10px rgba(0, 255, 213, 0.3);
        }

        header p {
            font-size: 1.1rem;
            color: var(--text-light);
            max-width: 600px;
            margin: 0 auto;
        }

        /* Main Container */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Input Section */
        .input-section {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 30px;
            border: 1px solid var(--border);
        }

        .input-tabs {
            display: flex;
            margin-bottom: 20px;
            border-bottom: 1px solid var(--border);
        }

        .tab-btn {
            background: none;
            border: none;
            color: var(--text-light);
            padding: 15px 30px;
            cursor: pointer;
            border-bottom: 2px solid transparent;
            transition: all 0.3s;
            font-size: 1rem;
        }

        .tab-btn.active {
            color: var(--primary);
            border-bottom-color: var(--primary);
        }

        .tab-content {
            display: none;
            margin-top: 20px;
        }

        .tab-content.active {
            display: block;
        }

        .file-upload-area {
            border: 2px dashed var(--border);
            border-radius: 12px;
            padding: 40px;
            text-align: center;
            transition: all 0.3s;
            cursor: pointer;
        }

        .file-upload-area:hover,
        .file-upload-area.dragover {
            border-color: var(--primary);
            background-color: rgba(0, 255, 213, 0.05);
        }

        .file-upload-area i {
            font-size: 3rem;
            color: var(--primary);
            margin-bottom: 15px;
        }

        .file-input {
            display: none;
        }

        textarea {
            width: 100%;
            min-height: 300px;
            background: #222;
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 15px;
            color: white;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            resize: vertical;
        }

        textarea:focus {
            border-color: var(--primary);
            outline: none;
            box-shadow: 0 0 0 2px rgba(0, 255, 213, 0.2);
        }

        /* Buttons */
        .btn {
            background: var(--primary);
            color: var(--dark-bg);
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            margin: 10px 10px 10px 0;
        }

        .btn:hover {
            background: var(--secondary);
            transform: translateY(-2px);
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .btn-secondary {
            background: #444;
            color: var(--primary);
            border: 1px solid var(--primary);
        }

        .btn-secondary:hover {
            background: var(--primary);
            color: var(--dark-bg);
        }

        /* Results Section */
        .results-section {
            display: none;
            background: var(--card-bg);
            border-radius: 12px;
            padding: 30px;
            border: 1px solid var(--border);
        }

        .score-overview {
            text-align: center;
            margin-bottom: 40px;
        }

        .score-circle {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
            position: relative;
            background: conic-gradient(var(--primary) 0deg, var(--primary) var(--score-angle, 0deg), #333 var(--score-angle, 0deg));
        }

        .score-circle::before {
            content: '';
            position: absolute;
            width: 120px;
            height: 120px;
            background: var(--card-bg);
            border-radius: 50%;
        }

        .score-number {
            font-size: 2rem;
            font-weight: bold;
            color: var(--primary);
            z-index: 1;
        }

        .score-label {
            font-size: 1.2rem;
            color: var(--text-light);
            margin-bottom: 10px;
        }

        .score-description {
            font-size: 1rem;
            color: #888;
        }

        /* Analysis Grid */
        .analysis-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .analysis-card {
            background: #2a2a2a;
            border-radius: 8px;
            padding: 20px;
            border: 1px solid var(--border);
        }

        .analysis-card h3 {
            color: var(--primary);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .section-score {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
            padding: 8px 0;
            border-bottom: 1px solid #333;
        }

        .section-score:last-child {
            border-bottom: none;
        }

        .section-name {
            font-weight: 500;
        }

        .section-points {
            font-weight: bold;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.8rem;
        }

        .points-excellent {
            background: var(--success);
            color: white;
        }

        .points-good {
            background: var(--info);
            color: white;
        }

        .points-fair {
            background: var(--warning);
            color: black;
        }

        .points-poor {
            background: var(--danger);
            color: white;
        }

        /* Suggestions */
        .suggestions-section {
            background: #2a2a2a;
            border-radius: 8px;
            padding: 20px;
            border: 1px solid var(--border);
        }

        .suggestions-section h3 {
            color: var(--primary);
            margin-bottom: 15px;
        }

        .suggestion-item {
            background: rgba(0, 255, 213, 0.1);
            border-left: 4px solid var(--primary);
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 0 8px 8px 0;
        }

        .suggestion-item:last-child {
            margin-bottom: 0;
        }

        .suggestion-title {
            font-weight: bold;
            color: var(--primary);
            margin-bottom: 5px;
        }

        .suggestion-text {
            color: var(--text-light);
            font-size: 0.9rem;
        }

        /* Keywords Section */
        .keywords-found {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 10px;
        }

        .keyword-tag {
            background: var(--primary);
            color: var(--dark-bg);
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: bold;
        }

        /* Progress Bars */
        .progress-bar {
            background: #333;
            height: 8px;
            border-radius: 4px;
            overflow: hidden;
            margin-top: 5px;
        }

        .progress-fill {
            height: 100%;
            background: var(--primary);
            transition: width 0.5s ease;
        }

        /* Loading */
        .loading {
            display: none;
            text-align: center;
            padding: 40px;
        }

        .spinner {
            border: 4px solid #333;
            border-top: 4px solid var(--primary);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Toast */
        .toast {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--success);
            color: white;
            padding: 15px 25px;
            border-radius: 8px;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s;
            z-index: 1000;
        }

        .toast.show {
            opacity: 1;
            visibility: visible;
        }

        .toast.error {
            background: var(--danger);
        }

        /* Footer */
        footer {
            text-align: center;
            padding: 30px 20px;
            color: #666;
            border-top: 1px solid var(--border);
            margin-top: 40px;
        }

        .insta-link {
            color: var(--primary);
            font-weight: bold;
            text-decoration: none;
            transition: all 0.3s;
        }

        .insta-link:hover {
            color: var(--secondary);
            text-shadow: 0 0 5px rgba(0, 255, 213, 0.5);
        }

        /* Responsive */
        @media (max-width: 768px) {
            header h1 {
                font-size: 2rem;
            }

            .container {
                padding: 10px;
            }

            .input-section {
                padding: 20px;
            }

            .tab-btn {
                padding: 12px 20px;
                font-size: 0.9rem;
            }

            .analysis-grid {
                grid-template-columns: 1fr;
            }

            .score-circle {
                width: 120px;
                height: 120px;
            }

            .score-circle::before {
                width: 90px;
                height: 90px;
            }

            .score-number {
                font-size: 1.5rem;
            }
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">


    <header>
        <h1><i class="fas fa-file-alt"></i> Resume Score Analyzer</h1>
        <p>Upload your resume (PDF, DOCX) or paste the text to get a comprehensive analysis and score out of 100</p>
    </header>

    <div class="container">
        <!-- Input Section -->
        <div class="input-section">
            <div class="input-tabs">
                <button class="tab-btn" data-tab="upload">
                    <i class="fas fa-upload"></i> Upload Resume
                </button>
                <button class="tab-btn active" data-tab="paste">
                    <i class="fas fa-paste"></i> Paste Text
                </button>
            </div>

            <!-- Upload Tab -->
            <div class="tab-content" id="upload-tab">
                <div class="file-upload-area" id="fileUploadArea">
                    <i class="fas fa-cloud-upload-alt"></i>
                    <h3>Drop your resume here or click to browse</h3>
                    <p>Supports PDF, DOCX files up to 10MB</p>
                    <input type="file" class="file-input" id="fileInput" accept=".pdf,.docx">
                </div>
            </div>

            <!-- Paste Tab -->
            <div class="tab-content active" id="paste-tab">
                <textarea id="resumeText" placeholder="Paste your resume text here...

Example:
John Doe
Email: john.doe@email.com
Phone: (555) 123-4567

OBJECTIVE
Experienced software developer seeking a challenging role...

SKILLS
- JavaScript, Python, Java
- React, Node.js, Django
- MySQL, PostgreSQL

EXPERIENCE
Software Developer | ABC Company | 2020-2023
- Developed web applications using React and Node.js
- Collaborated with cross-functional teams

EDUCATION
Bachelor of Science in Computer Science
University of Technology | 2016-2020

CERTIFICATIONS
- AWS Certified Developer
- Google Cloud Professional"></textarea>
            </div>

            <div style="margin-top: 20px;">
                <button class="btn" id="analyzeBtn">
                    <i class="fas fa-chart-line"></i> Analyze Resume
                </button>
                <button class="btn btn-secondary" id="clearBtn">
                    <i class="fas fa-trash"></i> Clear
                </button>
                <button class="btn btn-secondary" id="loadLastBtn" style="display: inline-flex;">
                    <i class="fas fa-history"></i> Load Last Analysis
                </button>
            </div>
        </div>

        <!-- Loading -->
        <div class="loading" id="loading" style="display: none;">
            <div class="spinner"></div>
            <p>Analyzing your resume...</p>
        </div>

        <!-- Results Section -->
        <div class="results-section" id="resultsSection" style="display: none;">
            <div class="score-overview">
                <div class="score-circle" id="scoreCircle" style="--score-angle: 50.400000000000006deg; background: conic-gradient(rgb(220, 53, 69) 0deg, rgb(220, 53, 69) 50.4deg, rgb(51, 51, 51) 50.4deg);">
                    <div class="score-number" id="scoreNumber">14</div>
                </div>
                <div class="score-label">Resume Score</div>
                <div class="score-description" id="scoreDescription">Needs major improvement. Follow the suggestions to enhance your resume.</div>
            </div>

            <div class="analysis-grid">
                <!-- Section Analysis -->
                <div class="analysis-card">
                    <h3><i class="fas fa-list-check"></i> Section Analysis</h3>
                    <div id="sectionAnalysis">
                    <div class="section-score">
                        <span class="section-name">
                            <i class="fas fa-times" style="color: var(--danger); margin-right: 8px;"></i>
                            Contact Info
                        </span>
                        <span class="section-points points-poor">0/15</span>
                    </div>
                
                    <div class="section-score">
                        <span class="section-name">
                            <i class="fas fa-check" style="color: var(--success); margin-right: 8px;"></i>
                            Objective/Summary
                        </span>
                        <span class="section-points points-fair">9/15</span>
                    </div>
                
                    <div class="section-score">
                        <span class="section-name">
                            <i class="fas fa-times" style="color: var(--danger); margin-right: 8px;"></i>
                            Skills
                        </span>
                        <span class="section-points points-poor">0/20</span>
                    </div>
                
                    <div class="section-score">
                        <span class="section-name">
                            <i class="fas fa-times" style="color: var(--danger); margin-right: 8px;"></i>
                            Experience
                        </span>
                        <span class="section-points points-poor">0/25</span>
                    </div>
                
                    <div class="section-score">
                        <span class="section-name">
                            <i class="fas fa-times" style="color: var(--danger); margin-right: 8px;"></i>
                            Education
                        </span>
                        <span class="section-points points-poor">0/15</span>
                    </div>
                
                    <div class="section-score">
                        <span class="section-name">
                            <i class="fas fa-times" style="color: var(--danger); margin-right: 8px;"></i>
                            Certifications
                        </span>
                        <span class="section-points points-poor">0/10</span>
                    </div>
                </div>
                </div>

                <!-- Keyword Analysis -->
                <div class="analysis-card">
                    <h3><i class="fas fa-key"></i> Keyword Analysis</h3>
                    <div id="keywordAnalysis">
                <div class="section-score">
                    <span class="section-name">Keywords Found</span>
                    <span class="section-points points-poor">1</span>
                </div>
                <div class="section-score">
                    <span class="section-name">Keyword Score</span>
                    <span class="section-points points-poor">1/15</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 1%"></div>
                </div>
                <p style="margin-top: 10px; font-size: 0.9rem; color: var(--text-light);">
                    1 relevant keywords found
                </p>
            <div class="keywords-found"><span class="keyword-tag">analysis</span></div></div>
                </div>

                <!-- Readability Analysis -->
                <div class="analysis-card">
                    <h3><i class="fas fa-book-open"></i> Readability &amp; Structure</h3>
                    <div id="readabilityAnalysis">
                <div class="section-score">
                    <span class="section-name">Readability Score</span>
                    <span class="section-points points-poor">2/8</span>
                </div>
                <div class="section-score">
                    <span class="section-name">Structure Score</span>
                    <span class="section-points points-poor">2/7</span>
                </div>
                <div class="section-score">
                    <span class="section-name">Total Score</span>
                    <span class="section-points points-poor">4/15</span>
                </div>
                <div style="margin-top: 15px; font-size: 0.9rem; color: var(--text-light);">
                    <p><strong>Avg. words/sentence:</strong> 3.9</p>
                    <p><strong>Sentences/paragraph:</strong> 20</p>
                </div>
            </div>
                </div>

                <!-- Overall Statistics -->
                <div class="analysis-card">
                    <h3><i class="fas fa-chart-bar"></i> Statistics</h3>
                    <div id="statisticsAnalysis">
                <div class="section-score">
                    <span class="section-name">Word Count</span>
                    <span class="section-points points-good">77</span>
                </div>
                <div class="section-score">
                    <span class="section-name">Sentences</span>
                    <span class="section-points points-good">20</span>
                </div>
                <div class="section-score">
                    <span class="section-name">Paragraphs</span>
                    <span class="section-points points-good">1</span>
                </div>
                <div style="margin-top: 15px; font-size: 0.9rem; color: var(--text-light);">
                    <p><strong>Characters:</strong> 605</p>
                    <p><strong>Avg. word length:</strong> 6.7 chars</p>
                </div>
            </div>
                </div>
            </div>

            <!-- Suggestions -->
            <div class="suggestions-section">
                <h3><i class="fas fa-lightbulb"></i> Improvement Suggestions</h3>
                <div id="suggestions">
                    <div class="suggestion-item">
                        <div class="suggestion-title">Add Contact Info section</div>
                        <div class="suggestion-text">Include your full name, phone number, email address, and LinkedIn profile at the top of your resume.</div>
                    </div>
                
                    <div class="suggestion-item">
                        <div class="suggestion-title">Improve Objective/Summary section</div>
                        <div class="suggestion-text">Your objective/summary section could be enhanced with more detailed information and better formatting.</div>
                    </div>
                
                    <div class="suggestion-item">
                        <div class="suggestion-title">Add Skills section</div>
                        <div class="suggestion-text">Create a dedicated skills section listing your technical and soft skills relevant to your target role.</div>
                    </div>
                
                    <div class="suggestion-item">
                        <div class="suggestion-title">Add Experience section</div>
                        <div class="suggestion-text">Detail your work history with job titles, companies, dates, and key achievements using action verbs.</div>
                    </div>
                
                    <div class="suggestion-item">
                        <div class="suggestion-title">Add Education section</div>
                        <div class="suggestion-text">Include your educational background with degrees, institutions, and graduation dates.</div>
                    </div>
                
                    <div class="suggestion-item">
                        <div class="suggestion-title">Add Certifications section</div>
                        <div class="suggestion-text">List any professional certifications, licenses, or training programs you've completed.</div>
                    </div>
                
                    <div class="suggestion-item">
                        <div class="suggestion-title">Include more relevant keywords</div>
                        <div class="suggestion-text">Add industry-specific terms, technical skills, and action verbs to improve ATS compatibility and showcase your expertise.</div>
                    </div>
                
                    <div class="suggestion-item">
                        <div class="suggestion-title">Improve formatting</div>
                        <div class="suggestion-text">Use bullet points, proper spacing, and clear section headers to improve readability.</div>
                    </div>
                
                    <div class="suggestion-item">
                        <div class="suggestion-title">Expand content</div>
                        <div class="suggestion-text">Your resume appears to be quite short. Consider adding more details about your experience and achievements.</div>
                    </div>
                
                    <div class="suggestion-item">
                        <div class="suggestion-title">Major improvements needed</div>
                        <div class="suggestion-text">Your resume needs significant enhancement. Focus on adding missing sections and improving content quality.</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast -->
    <div class="toast show success" id="toast">Cleared successfully!</div>

    <footer>
        Built with ❤️ by Ashi | Empowering tomorrow's management leaders<br>
        Connect with me: 
        <a class="insta-link" href="https://www.instagram.com/ashish_singh_rajput_3?utm_source=ig_web_button_share_sheet&amp;igsh=ZDNlZDc0MzIxNw==" target="_blank">
            @ashish_singh_rajput_3
        </a>
    </footer>

    <script>
        // Configure PDF.js worker
        pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';

        // Global variables
        let currentResumeText = '';
        let lastAnalysis = null;

        // DOM elements
        const tabBtns = document.querySelectorAll('.tab-btn');
        const tabContents = document.querySelectorAll('.tab-content');
        const fileUploadArea = document.getElementById('fileUploadArea');
        const fileInput = document.getElementById('fileInput');
        const resumeTextArea = document.getElementById('resumeText');
        const analyzeBtn = document.getElementById('analyzeBtn');
        const clearBtn = document.getElementById('clearBtn');
        const loadLastBtn = document.getElementById('loadLastBtn');
        const loading = document.getElementById('loading');
        const resultsSection = document.getElementById('resultsSection');
        const toast = document.getElementById('toast');

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            setupEventListeners();
            loadLastAnalysisFromStorage();
        });

        // Event Listeners
        function setupEventListeners() {
            // Tab switching
            tabBtns.forEach(btn => {
                btn.addEventListener('click', () => switchTab(btn.dataset.tab));
            });

            // File upload
            fileUploadArea.addEventListener('click', () => fileInput.click());
            fileUploadArea.addEventListener('dragover', handleDragOver);
            fileUploadArea.addEventListener('drop', handleDrop);
            fileInput.addEventListener('change', handleFileSelect);

            // Buttons
            analyzeBtn.addEventListener('click', analyzeResume);
            clearBtn.addEventListener('click', clearAll);
            loadLastBtn.addEventListener('click', loadLastAnalysis);
        }

        // Tab Functions
        function switchTab(tabName) {
            tabBtns.forEach(btn => btn.classList.remove('active'));
            tabContents.forEach(content => content.classList.remove('active'));
            
            document.querySelector(`[data-tab="${tabName}"]`).classList.add('active');
            document.getElementById(`${tabName}-tab`).classList.add('active');
        }

        // File Handling
        function handleDragOver(e) {
            e.preventDefault();
            fileUploadArea.classList.add('dragover');
        }

        function handleDrop(e) {
            e.preventDefault();
            fileUploadArea.classList.remove('dragover');
            
            const files = e.dataTransfer.files;
            if (files.length > 0) {
                handleFile(files[0]);
            }
        }

        function handleFileSelect(e) {
            const file = e.target.files[0];
            if (file) {
                handleFile(file);
            }
        }

        function handleFile(file) {
            const validTypes = ['.pdf', '.docx'];
            const fileExtension = '.' + file.name.split('.').pop().toLowerCase();
            
            if (!validTypes.includes(fileExtension)) {
                showToast('Please upload a PDF or DOCX file', 'error');
                return;
            }

            if (file.size > 10 * 1024 * 1024) {
                showToast('File size should be less than 10MB', 'error');
                return;
            }

            showToast('Processing file...', 'info');

            if (fileExtension === '.pdf') {
                extractTextFromPDF(file);
            } else if (fileExtension === '.docx') {
                extractTextFromDocx(file);
            }
        }

        // PDF Text Extraction
        async function extractTextFromPDF(file) {
            try {
                const arrayBuffer = await file.arrayBuffer();
                const pdf = await pdfjsLib.getDocument(arrayBuffer).promise;
                let fullText = '';

                for (let pageNum = 1; pageNum <= pdf.numPages; pageNum++) {
                    const page = await pdf.getPage(pageNum);
                    const textContent = await page.getTextContent();
                    const pageText = textContent.items.map(item => item.str).join(' ');
                    fullText += pageText + '\n';
                }

                currentResumeText = fullText.trim();
                resumeTextArea.value = currentResumeText;
                showToast('PDF processed successfully!');
                switchTab('paste');
            } catch (error) {
                console.error('PDF extraction error:', error);
                showToast('Error reading PDF file. Please try a different file.', 'error');
            }
        }

        // DOCX Text Extraction
        function extractTextFromDocx(file) {
            const reader = new FileReader();
            reader.onload = function(e) {
                mammoth.extractRawText({arrayBuffer: e.target.result})
                    .then(function(result) {
                        currentResumeText = result.value;
                        resumeTextArea.value = currentResumeText;
                        showToast('DOCX processed successfully!');
                        switchTab('paste');
                    })
                    .catch(function(error) {
                        console.error('DOCX extraction error:', error);
                        showToast('Error reading DOCX file: ' + error.message, 'error');
                    });
            };
            reader.readAsArrayBuffer(file);
        }

        // Analysis Functions
        function analyzeResume() {
            const text = resumeTextArea.value.trim();
            
            if (!text) {
                showToast('Please provide resume text or upload a file', 'error');
                return;
            }

            currentResumeText = text;
            showLoading(true);

            // Simulate analysis delay for better UX
            setTimeout(() => {
                const analysis = performAnalysis(text);
                displayResults(analysis);
                saveAnalysisToStorage(analysis);
                showLoading(false);
                showToast('Analysis completed!');
            }, 1500);
        }

        function performAnalysis(text) {
            const analysis = {
                text: text,
                timestamp: new Date().toISOString(),
                sections: analyzeSections(text),
                keywords: analyzeKeywords(text),
                readability: analyzeReadability(text),
                statistics: calculateStatistics(text),
                score: 0,
                suggestions: []
            };

            // Calculate total score (fixed algorithm)
            analysis.score = calculateTotalScore(analysis);
            
            // Generate suggestions
            analysis.suggestions = generateSuggestions(analysis);

            return analysis;
        }

        function analyzeSections(text) {
            const sections = {
                'Contact Info': { 
                    found: false, 
                    score: 0, 
                    maxScore: 15,
                    keywords: ['email', 'phone', 'address', 'linkedin', '@', 'tel:', 'mailto:'] 
                },
                'Objective/Summary': { 
                    found: false, 
                    score: 0, 
                    maxScore: 15,
                    keywords: ['objective', 'summary', 'profile', 'about', 'overview', 'professional summary'] 
                },
                'Skills': { 
                    found: false, 
                    score: 0, 
                    maxScore: 20,
                    keywords: ['skills', 'technical', 'competencies', 'technologies', 'expertise', 'proficient'] 
                },
                'Experience': { 
                    found: false, 
                    score: 0, 
                    maxScore: 25,
                    keywords: ['experience', 'work', 'employment', 'career', 'position', 'job', 'worked', 'served'] 
                },
                'Education': { 
                    found: false, 
                    score: 0, 
                    maxScore: 15,
                    keywords: ['education', 'degree', 'university', 'college', 'school', 'bachelor', 'master', 'diploma'] 
                },
                'Certifications': { 
                    found: false, 
                    score: 0, 
                    maxScore: 10,
                    keywords: ['certification', 'certificate', 'licensed', 'certified', 'accredited', 'credential'] 
                }
            };

            const lowercaseText = text.toLowerCase();
            const lines = text.split('\n');

            // Enhanced contact info detection
            const emailPattern = /[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}/;
            const phonePattern = /(\+?1?[-.\s]?)?\(?[0-9]{3}\)?[-.\s]?[0-9]{3}[-.\s]?[0-9]{4}/;
            const linkedinPattern = /linkedin\.com|in\/[a-zA-Z0-9]/i;
            
            if (emailPattern.test(text) || phonePattern.test(text) || linkedinPattern.test(text)) {
                sections['Contact Info'].found = true;
                sections['Contact Info'].score = sections['Contact Info'].maxScore;
            }

            // Check other sections with better detection
            Object.keys(sections).forEach(section => {
                if (section === 'Contact Info') return; // Already checked
                
                const sectionData = sections[section];
                let sectionScore = 0;
                
                // Check for section headers
                const hasHeader = lines.some(line => {
                    const cleanLine = line.trim().toLowerCase();
                    return sectionData.keywords.some(keyword => 
                        cleanLine === keyword || 
                        cleanLine.startsWith(keyword + ':') ||
                        cleanLine.startsWith(keyword + ' ')
                    );
                });

                // Check for keyword presence in content
                const hasKeywords = sectionData.keywords.some(keyword => 
                    lowercaseText.includes(keyword)
                );

                if (hasHeader) {
                    sectionScore = sectionData.maxScore; // Full score for clear section header
                } else if (hasKeywords) {
                    sectionScore = Math.round(sectionData.maxScore * 0.6); // Partial score for keywords only
                }

                // Additional checks for specific sections
                if (section === 'Experience') {
                    const experienceIndicators = ['years', 'months', '20', '19', 'present', 'current'];
                    const hasTimeIndicators = experienceIndicators.some(indicator => 
                        lowercaseText.includes(indicator)
                    );
                    if (hasTimeIndicators && hasKeywords) {
                        sectionScore = Math.max(sectionScore, Math.round(sectionData.maxScore * 0.8));
                    }
                }

                if (section === 'Skills') {
                    // Count technical skills mentioned
                    const skillWords = lowercaseText.split(/[\s,\n\r\t•\-\+]+/);
                    const technicalSkills = ['javascript', 'python', 'java', 'html', 'css', 'react', 'angular', 'vue', 'node', 'sql', 'mongodb', 'git', 'docker', 'kubernetes', 'aws', 'azure'];
                    const foundTechSkills = technicalSkills.filter(skill => 
                        skillWords.includes(skill)
                    ).length;
                    
                    if (foundTechSkills >= 3) {
                        sectionScore = Math.max(sectionScore, sectionData.maxScore);
                    } else if (foundTechSkills >= 1) {
                        sectionScore = Math.max(sectionScore, Math.round(sectionData.maxScore * 0.7));
                    }
                }

                if (sectionScore > 0) {
                    sectionData.found = true;
                    sectionData.score = sectionScore;
                }
            });

            return sections;
        }

        function analyzeKeywords(text) {
            const importantKeywords = [
                // Technical Skills
                'javascript', 'python', 'java', 'react', 'node.js', 'sql', 'html', 'css',
                'angular', 'vue', 'docker', 'kubernetes', 'aws', 'azure', 'git', 'mongodb',
                'typescript', 'php', 'ruby', 'golang', 'swift', 'kotlin', 'flutter',
                
                // Soft Skills
                'leadership', 'teamwork', 'communication', 'problem-solving', 'analytical',
                'creative', 'innovative', 'collaborative', 'adaptable', 'reliable',
                'organized', 'detail-oriented', 'self-motivated', 'proactive',
                
                // Business Terms
                'project management', 'agile', 'scrum', 'budget', 'strategy', 'analysis',
                'optimization', 'implementation', 'development', 'management', 'planning',
                'coordination', 'execution', 'delivery', 'quality assurance',
                
                // Action Words
                'developed', 'implemented', 'managed', 'led', 'created', 'designed',
                'improved', 'increased', 'reduced', 'achieved', 'delivered', 'executed',
                'coordinated', 'supervised', 'mentored', 'trained', 'optimized'
            ];

            const lowercaseText = text.toLowerCase();
            const foundKeywords = [];
            let keywordScore = 0;

            importantKeywords.forEach(keyword => {
                const regex = new RegExp('\\b' + keyword.toLowerCase().replace(/[.*+?^${}()|[\]\\]/g, '\\$&') + '\\b', 'g');
                const matches = lowercaseText.match(regex);
                if (matches) {
                    foundKeywords.push(keyword);
                    keywordScore += Math.min(matches.length * 0.5, 2); // Max 2 points per keyword
                }
            });

            return {
                found: foundKeywords,
                score: Math.min(Math.round(keywordScore), 15), // Cap at 15 points
                total: importantKeywords.length,
                maxScore: 15
            };
        }

        function analyzeReadability(text) {
            const sentences = text.split(/[.!?]+/).filter(s => s.trim().length > 0);
            const words = text.split(/\s+/).filter(w => w.length > 0);
            const paragraphs = text.split(/\n\s*\n/).filter(p => p.trim().length > 0);
            
            const avgWordsPerSentence = words.length / sentences.length || 0;
            const avgSentencesPerParagraph = sentences.length / paragraphs.length || 0;
            
            let readabilityScore = 0;
            let structureScore = 0;
            const maxReadabilityScore = 8;
            const maxStructureScore = 7;

            // Readability scoring (ideal: 15-20 words per sentence)
            if (avgWordsPerSentence >= 15 && avgWordsPerSentence <= 20) {
                readabilityScore = maxReadabilityScore;
            } else if (avgWordsPerSentence >= 12 && avgWordsPerSentence <= 25) {
                readabilityScore = Math.round(maxReadabilityScore * 0.8);
            } else if (avgWordsPerSentence >= 8 && avgWordsPerSentence <= 30) {
                readabilityScore = Math.round(maxReadabilityScore * 0.6);
            } else {
                readabilityScore = Math.round(maxReadabilityScore * 0.3);
            }

            // Structure scoring
            if (paragraphs.length >= 4) structureScore += 2;
            if (sentences.length >= 10) structureScore += 2;
            
            // Check for bullet points or lists
            if (text.includes('•') || text.includes('-') || text.includes('*') || /^\s*[\d]+\./m.test(text)) {
                structureScore += 2;
            }

            // Check for proper formatting indicators
            if (text.includes('\n') && paragraphs.length > 1) {
                structureScore += 1;
            }

            return {
                avgWordsPerSentence: Math.round(avgWordsPerSentence * 10) / 10,
                avgSentencesPerParagraph: Math.round(avgSentencesPerParagraph * 10) / 10,
                readabilityScore,
                structureScore,
                totalScore: readabilityScore + structureScore,
                maxScore: maxReadabilityScore + maxStructureScore
            };
        }

        function calculateStatistics(text) {
            const words = text.split(/\s+/).filter(w => w.length > 0);
            const sentences = text.split(/[.!?]+/).filter(s => s.trim().length > 0);
            const paragraphs = text.split(/\n\s*\n/).filter(p => p.trim().length > 0);
            const characters = text.length;
            const charactersNoSpaces = text.replace(/\s/g, '').length;

            return {
                wordCount: words.length,
                sentenceCount: sentences.length,
                paragraphCount: paragraphs.length,
                characterCount: characters,
                characterCountNoSpaces: charactersNoSpaces,
                averageWordLength: Math.round((charactersNoSpaces / words.length) * 10) / 10 || 0
            };
        }

        function calculateTotalScore(analysis) {
            let totalScore = 0;

            // Section scores (max 100 points total from all sections)
            Object.values(analysis.sections).forEach(section => {
                totalScore += section.score;
            });

            // Keyword score (max 15 points)
            totalScore += analysis.keywords.score;

            // Readability score (max 15 points)
            totalScore += analysis.readability.totalScore;

            // Ensure score doesn't exceed 100
            return Math.min(Math.round(totalScore), 100);
        }

        function generateSuggestions(analysis) {
            const suggestions = [];

            // Section-based suggestions
            Object.entries(analysis.sections).forEach(([section, data]) => {
                if (!data.found) {
                    suggestions.push({
                        title: `Add ${section} section`,
                        text: getSectionSuggestion(section)
                    });
                } else if (data.score < data.maxScore * 0.8) {
                    suggestions.push({
                        title: `Improve ${section} section`,
                        text: `Your ${section.toLowerCase()} section could be enhanced with more detailed information and better formatting.`
                    });
                }
            });

            // Keyword suggestions
            if (analysis.keywords.found.length < 10) {
                suggestions.push({
                    title: 'Include more relevant keywords',
                    text: 'Add industry-specific terms, technical skills, and action verbs to improve ATS compatibility and showcase your expertise.'
                });
            }

            // Readability suggestions
            if (analysis.readability.avgWordsPerSentence > 25) {
                suggestions.push({
                    title: 'Simplify sentence structure',
                    text: 'Break down long sentences into shorter, more readable ones. Aim for 15-20 words per sentence.'
                });
            }

            if (analysis.readability.structureScore < 5) {
                suggestions.push({
                    title: 'Improve formatting',
                    text: 'Use bullet points, proper spacing, and clear section headers to improve readability.'
                });
            }

            // Length suggestions
            if (analysis.statistics.wordCount < 200) {
                suggestions.push({
                    title: 'Expand content',
                    text: 'Your resume appears to be quite short. Consider adding more details about your experience and achievements.'
                });
            } else if (analysis.statistics.wordCount > 800) {
                suggestions.push({
                    title: 'Reduce length',
                    text: 'Your resume might be too long. Focus on the most relevant and impactful information.'
                });
            }

            // Score-based suggestions
            if (analysis.score < 60) {
                suggestions.push({
                    title: 'Major improvements needed',
                    text: 'Your resume needs significant enhancement. Focus on adding missing sections and improving content quality.'
                });
            } else if (analysis.score < 80) {
                suggestions.push({
                    title: 'Good foundation, room for improvement',
                    text: 'Your resume has a solid foundation. Implement the suggestions above to reach the next level.'
                });
            }

            return suggestions;
        }

        function getSectionSuggestion(section) {
            const suggestions = {
                'Contact Info': 'Include your full name, phone number, email address, and LinkedIn profile at the top of your resume.',
                'Objective/Summary': 'Add a brief professional summary highlighting your key qualifications and career goals.',
                'Skills': 'Create a dedicated skills section listing your technical and soft skills relevant to your target role.',
                'Experience': 'Detail your work history with job titles, companies, dates, and key achievements using action verbs.',
                'Education': 'Include your educational background with degrees, institutions, and graduation dates.',
                'Certifications': 'List any professional certifications, licenses, or training programs you\'ve completed.'
            };
            return suggestions[section] || 'Consider adding this section to strengthen your resume.';
        }

        function displayResults(analysis) {
            lastAnalysis = analysis;
            
            // Update score circle
            updateScoreCircle(analysis.score);
            
            // Update score description
            updateScoreDescription(analysis.score);
            
            // Display section analysis
            displaySectionAnalysis(analysis.sections);
            
            // Display keyword analysis
            displayKeywordAnalysis(analysis.keywords);
            
            // Display readability analysis
            displayReadabilityAnalysis(analysis.readability);
            
            // Display statistics
            displayStatistics(analysis.statistics);
            
            // Display suggestions
            displaySuggestions(analysis.suggestions);
            
            // Show results section
            resultsSection.style.display = 'block';
            resultsSection.scrollIntoView({ behavior: 'smooth' });
        }

        function updateScoreCircle(score) {
            const circle = document.getElementById('scoreCircle');
            const number = document.getElementById('scoreNumber');
            
            const angle = (score / 100) * 360;
            circle.style.setProperty('--score-angle', `${angle}deg`);
            
            // Change color based on score
            let color = '#dc3545'; // Red for poor scores
            if (score >= 80) color = '#28a745'; // Green for excellent
            else if (score >= 60) color = '#ffc107'; // Yellow for good
            else if (score >= 40) color = '#17a2b8'; // Blue for fair
            
            circle.style.background = `conic-gradient(${color} 0deg, ${color} ${angle}deg, #333 ${angle}deg)`;
            
            // Animate number
            let current = 0;
            const increment = score / 30;
            const timer = setInterval(() => {
                current += increment;
                if (current >= score) {
                    current = score;
                    clearInterval(timer);
                }
                number.textContent = Math.round(current);
            }, 50);
        }

        function updateScoreDescription(score) {
            const description = document.getElementById('scoreDescription');
            let text = '';
            
            if (score >= 90) {
                text = 'Excellent! Your resume is well-optimized and professional.';
            } else if (score >= 80) {
                text = 'Great job! Your resume is strong with minor areas for improvement.';
            } else if (score >= 70) {
                text = 'Good foundation. Consider implementing the suggestions below.';
            } else if (score >= 60) {
                text = 'Fair resume. Several improvements needed for better impact.';
            } else if (score >= 40) {
                text = 'Below average. Significant improvements needed.';
            } else {
                text = 'Needs major improvement. Follow the suggestions to enhance your resume.';
            }
            
            description.textContent = text;
        }

        function displaySectionAnalysis(sections) {
            const container = document.getElementById('sectionAnalysis');
            let html = '';
            
            Object.entries(sections).forEach(([name, data]) => {
                const pointsClass = getPointsClass(data.score, data.maxScore);
                html += `
                    <div class="section-score">
                        <span class="section-name">
                            <i class="fas fa-${data.found ? 'check' : 'times'}" style="color: ${data.found ? 'var(--success)' : 'var(--danger)'}; margin-right: 8px;"></i>
                            ${name}
                        </span>
                        <span class="section-points ${pointsClass}">${data.score}/${data.maxScore}</span>
                    </div>
                `;
            });
            
            container.innerHTML = html;
        }

        function displayKeywordAnalysis(keywords) {
            const container = document.getElementById('keywordAnalysis');
            const percentage = Math.round((keywords.found.length / keywords.total) * 100);
            
            let html = `
                <div class="section-score">
                    <span class="section-name">Keywords Found</span>
                    <span class="section-points ${getPointsClass(keywords.score, keywords.maxScore)}">${keywords.found.length}</span>
                </div>
                <div class="section-score">
                    <span class="section-name">Keyword Score</span>
                    <span class="section-points ${getPointsClass(keywords.score, keywords.maxScore)}">${keywords.score}/${keywords.maxScore}</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" style="width: ${Math.min(percentage, 100)}%"></div>
                </div>
                <p style="margin-top: 10px; font-size: 0.9rem; color: var(--text-light);">
                    ${keywords.found.length} relevant keywords found
                </p>
            `;
            
            if (keywords.found.length > 0) {
                html += '<div class="keywords-found">';
                keywords.found.slice(0, 15).forEach(keyword => {
                    html += `<span class="keyword-tag">${keyword}</span>`;
                });
                if (keywords.found.length > 15) {
                    html += `<span class="keyword-tag">+${keywords.found.length - 15} more</span>`;
                }
                html += '</div>';
            }
            
            container.innerHTML = html;
        }

        function displayReadabilityAnalysis(readability) {
            const container = document.getElementById('readabilityAnalysis');
            
            const html = `
                <div class="section-score">
                    <span class="section-name">Readability Score</span>
                    <span class="section-points ${getPointsClass(readability.readabilityScore, 8)}">${readability.readabilityScore}/8</span>
                </div>
                <div class="section-score">
                    <span class="section-name">Structure Score</span>
                    <span class="section-points ${getPointsClass(readability.structureScore, 7)}">${readability.structureScore}/7</span>
                </div>
                <div class="section-score">
                    <span class="section-name">Total Score</span>
                    <span class="section-points ${getPointsClass(readability.totalScore, readability.maxScore)}">${readability.totalScore}/${readability.maxScore}</span>
                </div>
                <div style="margin-top: 15px; font-size: 0.9rem; color: var(--text-light);">
                    <p><strong>Avg. words/sentence:</strong> ${readability.avgWordsPerSentence}</p>
                    <p><strong>Sentences/paragraph:</strong> ${readability.avgSentencesPerParagraph}</p>
                </div>
            `;
            
            container.innerHTML = html;
        }

        function displayStatistics(stats) {
            const container = document.getElementById('statisticsAnalysis');
            
            const html = `
                <div class="section-score">
                    <span class="section-name">Word Count</span>
                    <span class="section-points points-good">${stats.wordCount}</span>
                </div>
                <div class="section-score">
                    <span class="section-name">Sentences</span>
                    <span class="section-points points-good">${stats.sentenceCount}</span>
                </div>
                <div class="section-score">
                    <span class="section-name">Paragraphs</span>
                    <span class="section-points points-good">${stats.paragraphCount}</span>
                </div>
                <div style="margin-top: 15px; font-size: 0.9rem; color: var(--text-light);">
                    <p><strong>Characters:</strong> ${stats.characterCount}</p>
                    <p><strong>Avg. word length:</strong> ${stats.averageWordLength} chars</p>
                </div>
            `;
            
            container.innerHTML = html;
        }

        function displaySuggestions(suggestions) {
            const container = document.getElementById('suggestions');
            
            if (suggestions.length === 0) {
                container.innerHTML = `
                    <div class="suggestion-item">
                        <div class="suggestion-title">Excellent Work!</div>
                        <div class="suggestion-text">Your resume looks great! Continue to tailor it for specific job applications.</div>
                    </div>
                `;
                return;
            }
            
            let html = '';
            suggestions.forEach(suggestion => {
                html += `
                    <div class="suggestion-item">
                        <div class="suggestion-title">${suggestion.title}</div>
                        <div class="suggestion-text">${suggestion.text}</div>
                    </div>
                `;
            });
            
            container.innerHTML = html;
        }

        function getPointsClass(score, maxScore) {
            const percentage = (score / maxScore) * 100;
            if (percentage >= 90) return 'points-excellent';
            if (percentage >= 70) return 'points-good';
            if (percentage >= 50) return 'points-fair';
            return 'points-poor';
        }

        // Utility Functions
        function showLoading(show) {
            loading.style.display = show ? 'block' : 'none';
            analyzeBtn.disabled = show;
        }

        function showToast(message, type = 'success') {
            toast.textContent = message;
            toast.className = `toast show ${type}`;
            
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }

        function clearAll() {
            resumeTextArea.value = '';
            currentResumeText = '';
            resultsSection.style.display = 'none';
            fileInput.value = '';
            showToast('Cleared successfully!');
        }

        // Storage Functions
        function saveAnalysisToStorage(analysis) {
            try {
                localStorage.setItem('resumeAnalysis', JSON.stringify({
                    ...analysis,
                    text: analysis.text.substring(0, 1000) // Store only first 1000 chars
                }));
            } catch (error) {
                console.error('Error saving to localStorage:', error);
            }
        }

        function loadLastAnalysisFromStorage() {
            try {
                const saved = localStorage.getItem('resumeAnalysis');
                if (saved) {
                    lastAnalysis = JSON.parse(saved);
                    loadLastBtn.style.display = 'inline-flex';
                } else {
                    loadLastBtn.style.display = 'none';
                }
            } catch (error) {
                console.error('Error loading from localStorage:', error);
                loadLastBtn.style.display = 'none';
            }
        }

        function loadLastAnalysis() {
            if (lastAnalysis) {
                displayResults(lastAnalysis);
                showToast('Last analysis loaded!');
            } else {
                showToast('No previous analysis found', 'error');
            }
        }
    </script>


            <script></script>
        
    
</body><grammarly-desktop-integration data-grammarly-shadow-root="true"></grammarly-desktop-integration>