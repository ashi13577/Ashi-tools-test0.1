<!DOCTYPE html>
<html>
<head>
            <style></style>
        </head>
        <body data-new-gr-c-s-check-loaded="14.1240.0" data-gr-ext-installed="">
            


  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Advanced Transportation Cost Calculator - Ashi Tools</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,500,700">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    :root {
      --primary: #3b82f6;
      --primary-dark: #2563eb;
      --secondary: #10b981;
      --warning: #f59e0b;
      --danger: #ef4444;
      --dark-bg: #1e293b;
      --card-bg: #1f2937;
      --text-light: #f3f4f6;
      --text-secondary: #9ca3af;
      --border-light: rgba(156, 163, 175, 0.2);
      --success: #22c55e;
      --purple: #8b5cf6;
      --orange: #f97316;
      --teal: #14b8a6;
      --rose: #f43f5e;
    }
    body {
      font-family: Roboto, sans-serif;
      background: linear-gradient(135deg, #1e293b, #0f172a);
      color: var(--text-light);
      margin: 0;
      min-height: 100vh;
    }
    .container {
      max-width: 1200px;
      margin: 30px auto 0 auto;
      background: linear-gradient(145deg, #1f2937, #111827);
      border-radius: 16px;
      box-shadow: 0 20px 40px rgba(0,0,0,0.32);
      overflow: hidden;
      border: 1px solid var(--border-light);
    }
    .header {
      background: linear-gradient(135deg, #14b8a6, #0d9488);
      color: white;
      padding: 30px;
      text-align: center;
      border-bottom: 1px solid var(--border-light);
    }
    .header h1 {
      font-size: 2.2em;
      margin: 0 0 5px 0;
      color: #fff;
    }
    .header p {
      margin: 0 auto;
      font-size: 1.1em;
      color: #e0e7ef;
      max-width: 800px;
    }
    .main-section {
      padding: 36px 28px 32px 28px;
      min-height: 350px;
    }
    .transport-form {
      background: var(--card-bg);
      border-radius: 12px;
      padding: 24px;
      margin-bottom: 36px;
      box-shadow: 0 3px 18px rgba(0,0,0,.21);
      border: 1px solid var(--border-light);
    }
    .transport-form .row {
      display: flex;
      flex-wrap: wrap;
      gap: 18px;
      margin-bottom: 14px;
    }
    .form-group {
      flex: 1;
      min-width: 200px;
      display: flex;
      flex-direction: column;
      margin-bottom: 8px;
    }
    .form-group label {
      font-weight: 500;
      margin-bottom: 6px;
      color: var(--teal);
      letter-spacing: .01em;
    }
    .form-group input, .form-group select, .form-group textarea {
      padding: 10px 12px;
      border-radius: 7px;
      border: 2px solid var(--border-light);
      background: rgba(55,65,80,0.30);
      color: var(--text-light);
      font-size: 1em;
      margin-bottom: 2px;
      font-family: inherit;
    }
    .form-group input:focus, .form-group textarea:focus, .form-group select:focus {
      outline: none;
      border-color: var(--teal);
    }
    .form-actions {
      display: flex;
      gap: 18px;
      margin: 10px 0 0 0;
      flex-wrap: wrap;
    }
    .btn {
      padding: 11px 24px;
      border: none;
      border-radius: 22px;
      background: var(--teal);
      color: #fff;
      font-size: 1em;
      font-weight: 600;
      cursor: pointer;
      transition: background .23s, transform .13s;
      margin-top: 6px;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .btn:hover { background: #0d9488; transform: translateY(-2px);}
    .btn-secondary { background: var(--secondary);}
    .btn-secondary:hover { background: #047857;}
    .btn-warning { background: var(--warning);}
    .btn-warning:hover { background: #ca8a04;}
    .btn-danger { background: var(--danger);}
    .btn-danger:hover { background: #dc2626;}
    .btn-orange { background: var(--orange);}
    .btn-orange:hover { background: #ea580c;}
    .btn-purple { background: var(--purple);}
    .btn-purple:hover { background: #7c3aed;}
    .btn i { font-size: 1.09em;}
    .input-hint { font-size: 12px; color: var(--text-secondary);}
    
    .results-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin: 24px 0;
    }
    .result-card {
      background: var(--card-bg);
      border-radius: 12px;
      padding: 20px;
      border: 1px solid var(--border-light);
      text-align: center;
    }
    .result-card.total-cost {
      border-color: var(--teal);
      background: rgba(20, 184, 166, 0.1);
    }
    .result-card.per-unit {
      border-color: var(--purple);
      background: rgba(139, 92, 246, 0.1);
    }
    .result-card.efficiency {
      border-color: var(--orange);
      background: rgba(249, 115, 22, 0.1);
    }
    .result-card.savings {
      border-color: var(--success);
      background: rgba(34, 197, 94, 0.1);
    }
    .result-value {
      font-size: 2.2em;
      font-weight: 700;
      margin-bottom: 8px;
    }
    .result-card.total-cost .result-value { color: var(--teal); }
    .result-card.per-unit .result-value { color: var(--purple); }
    .result-card.efficiency .result-value { color: var(--orange); }
    .result-card.savings .result-value { color: var(--success); }
    .result-card .result-value { color: var(--teal); }
    
    .result-label {
      color: var(--text-secondary);
      font-size: 0.9em;
      margin-bottom: 4px;
    }
    .result-sublabel {
      color: var(--text-secondary);
      font-size: 0.8em;
    }
    
    .transport-table {
      width: 100%;
      border-collapse: collapse;
      background: var(--card-bg);
      border-radius: 10px;
      overflow: hidden;
      margin-top: 14px;
      font-size: 15px;
    }
    .transport-table th, .transport-table td {
      border-bottom: 1px solid #283447;
      padding: 12px 10px;
      text-align: center;
    }
    .transport-table th {
      background: #232d3b;
      color: var(--teal);
      font-weight: 500;
    }
    .transport-table td {
      color: var(--text-light);
      background: var(--card-bg);
    }
    .chart-container {
      background: var(--card-bg);
      border-radius: 10px;
      padding: 22px 16px 20px 16px;
      margin: 20px 0;
      border: 1px solid var(--border-light);
      min-height: 400px;
    }
    .section-header {
      display: flex;
      align-items: center;
      gap: 12px;
      margin: 24px 0 16px 0;
      color: var(--teal);
      font-size: 1.3em;
      font-weight: 600;
    }
    .feature-tag {
      background: #22304c;
      color: #93c5fd;
      font-size: 11px;
      border-radius: 11px;
      padding: 4px 12px;
      margin-right: 6px;
      font-weight: 500;
    }
    .cost-breakdown {
      background: var(--card-bg);
      border-radius: 12px;
      padding: 24px;
      margin: 24px 0;
      border: 1px solid var(--border-light);
    }
    .cost-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 12px 0;
      border-bottom: 1px solid var(--border-light);
    }
    .cost-item:last-child {
      border-bottom: none;
      font-weight: 600;
      font-size: 1.1em;
      color: var(--teal);
    }
    .cost-label {
      color: var(--text-light);
    }
    .cost-value {
      color: var(--teal);
      font-weight: 600;
    }
    .route-planning {
      background: var(--card-bg);
      border-radius: 12px;
      padding: 24px;
      margin: 24px 0;
      border: 1px solid var(--border-light);
    }
    .route-input {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 12px;
      margin: 16px 0;
    }
    .route-item {
      background: rgba(55,65,80,0.20);
      padding: 12px;
      border-radius: 8px;
      border: 1px solid var(--border-light);
    }
    .route-item label {
      font-size: 0.9em;
      color: var(--teal);
      font-weight: 500;
    }
    .scenario-section {
      background: var(--card-bg);
      border-radius: 12px;
      padding: 24px;
      margin: 24px 0;
      border: 1px solid var(--border-light);
    }
    .scenario-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 16px;
      margin-top: 16px;
    }
    .scenario-card {
      background: rgba(55,65,80,0.30);
      border-radius: 8px;
      padding: 16px;
      border: 1px solid var(--border-light);
    }
    .scenario-card.best {
      border-color: var(--success);
      background: rgba(34, 197, 94, 0.1);
    }
    .scenario-title {
      font-weight: 600;
      color: var(--teal);
      margin-bottom: 8px;
    }
    .scenario-card.best .scenario-title {
      color: var(--success);
    }
    .education-box {
      background: var(--card-bg);
      border-radius: 10px;
      padding: 25px 18px;
      margin-bottom: 26px;
      border: 1px solid var(--border-light);
      color: var(--text-secondary);
    }
    .education-box h3, .education-box h4 {
      color: var(--teal); 
      font-weight: 700;
      margin-bottom: 12px;
    }
    .formula {
      padding: 10px 16px;
      font-family: 'Courier New', monospace;
      border-radius: 8px; 
      background: #22304c;
      margin: 12px 0; 
      color: #a7d2fe;
      font-size: 1.1em;
      display: inline-block;
    }
    .toast {
      position: fixed;
      top: 20px;
      right: 20px;
      background: var(--secondary);
      color: #fff;
      padding: 16px 30px;
      border-radius: 10px;
      display: none;
      z-index: 1102;
      font-size: 1em;
      font-weight: 600;
      box-shadow: 0 10px 30px rgba(0,0,0,0.19);
    }
    .toast.success { background: var(--secondary);}
    .toast.error { background: var(--danger);}
    .toast.warning { background: var(--warning);}
    footer {
      text-align: center;
      color: var(--text-secondary);
      margin-top: 40px;
      padding: 30px;
      line-height: 1.6;
      background: linear-gradient(145deg, #1f2937, #111827);
      border-top: 1px solid var(--border-light);
    }
    .insta-link {
      color: #e1306c;
      text-decoration: none;
      font-weight: 500;
      transition: all 0.3s ease;
      background: linear-gradient(45deg, #f09433, #e6683c, #dc2743, #cc2366, #bc1888);
      -webkit-background-clip: text;
      background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    @media (max-width:800px) {
      .main-section { padding:19px 5vw;}
      .chart-container, .education-box, .transport-form {padding: 14px 5vw;}
      .results-grid { grid-template-columns: 1fr;}
      .route-input { grid-template-columns: 1fr;}
    }
  </style>


  <div class="container">
    <div class="header">
      <h1><i class="fa-solid fa-truck"></i> Advanced Transportation Cost Calculator</h1>
      <p>
        Comprehensive transportation cost analysis with route optimization, modal comparison, and cost-benefit evaluation.<br>
        Calculate shipping costs, compare transport modes, and optimize logistics for maximum cost efficiency.
      </p>
    </div>
    <div class="main-section">

      <!-- Main Transportation Form -->
      <div class="transport-form">
        <div style="display: flex; align-items: center; gap:15px; margin-bottom:16px; flex-wrap: wrap;">
          <h3 style="color:var(--teal);margin-bottom:0;"><i class="fa-solid fa-rocket"></i> Quick Start Templates</h3>
          <div style="display: flex; gap: 10px; flex-wrap: wrap;">
            <button class="btn btn-secondary" onclick="loadTemplate('local_delivery')">
              <i class="fa-solid fa-truck-fast"></i> Local Delivery
            </button>
            <button class="btn btn-secondary" onclick="loadTemplate('long_haul')">
              <i class="fa-solid fa-truck"></i> Long Haul
            </button>
            <button class="btn btn-secondary" onclick="loadTemplate('air_freight')">
              <i class="fa-solid fa-plane"></i> Air Freight
            </button>
            <button class="btn btn-secondary" onclick="loadTemplate('ocean_freight')">
              <i class="fa-solid fa-ship"></i> Ocean Freight
            </button>
            <button class="btn btn-secondary" onclick="loadTemplate('rail_transport')">
              <i class="fa-solid fa-train"></i> Rail Transport
            </button>
          </div>
        </div>
        
        <div class="row">
          <div class="form-group">
            <label>Transportation Mode</label>
            <select id="transportMode">
              <option value="truck">Road Transport (Truck)</option>
              <option value="air">Air Freight</option>
              <option value="sea">Ocean Freight</option>
              <option value="rail">Rail Transport</option>
              <option value="multimodal">Multimodal</option>
            </select>
          </div>
          <div class="form-group">
            <label>Cargo Type</label>
            <select id="cargoType">
              <option value="general">General Cargo</option>
              <option value="perishable">Perishable Goods</option>
              <option value="hazmat">Hazardous Materials</option>
              <option value="oversized">Oversized/Heavy</option>
              <option value="liquid">Liquid/Bulk</option>
            </select>
          </div>
          <div class="form-group">
            <label>Service Level</label>
            <select id="serviceLevel">
              <option value="economy">Economy</option>
              <option value="standard">Standard</option>
              <option value="express">Express</option>
              <option value="premium">Premium</option>
            </select>
          </div>
        </div>

        <!-- Route Details -->
        <div class="route-planning">
          <h4 style="color: var(--teal); margin-bottom: 16px;"><i class="fa-solid fa-route"></i> Route &amp; Shipment Details</h4>
          <div class="route-input">
            <div class="route-item">
              <label>Distance (miles/km)</label>
              <input id="distance" type="number" value="500" min="1">
            </div>
            <div class="route-item">
              <label>Weight (lbs/kg)</label>
              <input id="weight" type="number" value="2000" min="1">
            </div>
            <div class="route-item">
              <label>Volume (cubic ft/m¬≥)</label>
              <input id="volume" type="number" value="100" min="1">
            </div>
            <div class="route-item">
              <label>Number of Stops</label>
              <input id="stops" type="number" value="2" min="1">
            </div>
            <div class="route-item">
              <label>Transit Time (days)</label>
              <input id="transitTime" type="number" value="3" min="1">
            </div>
            <div class="route-item">
              <label>Fuel Price ($/gallon)</label>
              <input id="fuelPrice" type="number" value="3.50" step="0.01" min="0">
            </div>
          </div>
        </div>

        <!-- Cost Parameters -->
        <div class="row">
          <div class="form-group">
            <label>Base Rate ($ per mile/km)</label>
            <input id="baseRate" type="number" value="2.50" step="0.01" min="0">
            <span class="input-hint">Base transportation rate per distance unit</span>
          </div>
          <div class="form-group">
            <label>Fuel Surcharge (%)</label>
            <input id="fuelSurcharge" type="number" value="15" min="0" max="50">
            <span class="input-hint">Additional fuel cost percentage</span>
          </div>
          <div class="form-group">
            <label>Insurance Rate (%)</label>
            <input id="insuranceRate" type="number" value="2" step="0.1" min="0" max="10">
            <span class="input-hint">Insurance as % of cargo value</span>
          </div>
        </div>

        <div class="row">
          <div class="form-group">
            <label>Cargo Value ($)</label>
            <input id="cargoValue" type="number" value="50000" min="0">
            <span class="input-hint">Total value of goods being shipped</span>
          </div>
          <div class="form-group">
            <label>Accessorial Charges ($)</label>
            <input id="accessorialCharges" type="number" value="200" min="0">
            <span class="input-hint">Loading, unloading, special handling fees</span>
          </div>
          <div class="form-group">
            <label>Driver/Labor Cost ($/day)</label>
            <input id="laborCost" type="number" value="300" min="0">
            <span class="input-hint">Daily driver and labor costs</span>
          </div>
        </div>

        <div class="form-actions">
          <button class="btn" onclick="calculateTransportCost()">
            <i class="fa-solid fa-calculator"></i> Calculate Transport Cost
          </button>
          <button class="btn btn-orange" onclick="compareTransportModes()">
            <i class="fa-solid fa-balance-scale"></i> Compare Modes
          </button>
          <button class="btn btn-purple" onclick="optimizeRoute()">
            <i class="fa-solid fa-route"></i> Route Optimization
          </button>
          <button class="btn btn-secondary" onclick="exportAnalysis()">
            <i class="fa-solid fa-download"></i> Export Analysis
          </button>
          <button class="btn btn-warning" onclick="resetForm()">
            <i class="fa-solid fa-rotate-left"></i> Reset
          </button>
        </div>
      </div>

      <!-- Results Section -->
      <div id="resultsSection" style="display: none;">
        
        <!-- Key Metrics -->
        <div class="section-header">
          <i class="fa-solid fa-chart-pie"></i>
          <span>Transportation Cost Analysis</span>
        </div>
        <div class="results-grid" id="metricsGrid">
        <div class="result-card total-cost">
          <div class="result-value">$15712.00</div>
          <div class="result-label">Total Transportation Cost</div>
          <div class="result-sublabel">SEA - economy</div>
        </div>
        <div class="result-card per-unit">
          <div class="result-value">$0.79</div>
          <div class="result-label">Cost per Unit Weight</div>
          <div class="result-sublabel">$/lb or $/kg</div>
        </div>
        <div class="result-card efficiency">
          <div class="result-value">10183.30</div>
          <div class="result-label">Transport Efficiency</div>
          <div class="result-sublabel">Weight√óDistance/$</div>
        </div>
        <div class="result-card savings">
          <div class="result-value">$1.96</div>
          <div class="result-label">Cost per Mile</div>
          <div class="result-sublabel">Distance efficiency</div>
        </div>
      </div>

        <!-- Cost Breakdown -->
        <div class="cost-breakdown" id="costBreakdown"><h4 style="color: var(--teal); margin-bottom: 16px;"><i class="fa-solid fa-list"></i> Detailed Cost Breakdown</h4>
        <div class="cost-item">
          <span class="cost-label">Base Transportation Cost</span>
          <span class="cost-value">$6400.00</span>
        </div>
        <div class="cost-item">
          <span class="cost-label">Fuel Surcharge</span>
          <span class="cost-value">$1280.00</span>
        </div>
        <div class="cost-item">
          <span class="cost-label">Insurance Cost</span>
          <span class="cost-value">$3750.00</span>
        </div>
        <div class="cost-item">
          <span class="cost-label">Labor/Driver Cost</span>
          <span class="cost-value">$4200.00</span>
        </div>
        <div class="cost-item">
          <span class="cost-label">Accessorial Charges</span>
          <span class="cost-value">$800.00</span>
        </div>
        <div class="cost-item">
          <span class="cost-label">Stop Charges</span>
          <span class="cost-value">$50.00</span>
        </div>
        <div class="cost-item">
          <span class="cost-label">TOTAL COST</span>
          <span class="cost-value">$15712.00</span>
        </div>
      </div>

        <!-- Transportation Chart -->
        <div class="chart-container">
          <canvas id="transportChart" style="box-sizing: border-box;" width="300"></canvas>
        </div>

        <!-- Detailed Table -->
        <div class="section-header">
          <i class="fa-solid fa-table"></i>
          <span>Transportation Cost Summary</span>
        </div>
        <div style="overflow-x:auto;">
          <table class="transport-table" id="transportTable">
        <tbody><tr>
          <th>Metric</th>
          <th>Value</th>
          <th>Unit</th>
          <th>Description</th>
        </tr>
        <tr>
          <td>Total Cost</td>
          <td>$15712.00</td>
          <td>USD</td>
          <td>Complete transportation expense</td>
        </tr>
        <tr>
          <td>Cost per Unit Weight</td>
          <td>$0.79</td>
          <td>$/unit</td>
          <td>Cost efficiency per weight unit</td>
        </tr>
        <tr>
          <td>Cost per Mile</td>
          <td>$1.96</td>
          <td>$/mile</td>
          <td>Distance-based cost efficiency</td>
        </tr>
        <tr>
          <td>Cost per Day</td>
          <td>$748.19</td>
          <td>$/day</td>
          <td>Time-based cost allocation</td>
        </tr>
        <tr>
          <td>Transport Efficiency</td>
          <td>10183.30</td>
          <td>ratio</td>
          <td>Weight√óDistance per dollar spent</td>
        </tr>
        <tr>
          <td>Transit Time</td>
          <td>21</td>
          <td>days</td>
          <td>Total delivery time</td>
        </tr>
      </tbody></table>
        </div>
      </div>

      <!-- Mode Comparison Section -->
      <div class="scenario-section" id="comparisonSection" style="display: none;">
        <h3 style="color: var(--teal);"><i class="fa-solid fa-balance-scale"></i> Transportation Mode Comparison</h3>
        <div class="scenario-grid" id="comparisonGrid">
        <div class="scenario-card ">
          <div class="scenario-title">Road Transport </div>
          <div><strong>Total Cost:</strong> $28150.00</div>
          <div><strong>Cost/Unit:</strong> $1.41</div>
          <div><strong>Transit Time:</strong> 3 days</div>
          <div><strong>Efficiency:</strong> 5683.84</div>
          <div style="margin-top: 8px;">
            <div style="height: 4px; background: #14b8a6; border-radius: 2px; width: 64.33353621424223%;"></div>
          </div>
        </div>
      
        <div class="scenario-card ">
          <div class="scenario-title">Rail Transport </div>
          <div><strong>Total Cost:</strong> $16702.00</div>
          <div><strong>Cost/Unit:</strong> $0.84</div>
          <div><strong>Transit Time:</strong> 7 days</div>
          <div><strong>Efficiency:</strong> 9579.69</div>
          <div style="margin-top: 8px;">
            <div style="height: 4px; background: #14b8a6; border-radius: 2px; width: 99.17224589166159%;"></div>
          </div>
        </div>
      
        <div class="scenario-card ">
          <div class="scenario-title">Air Freight </div>
          <div><strong>Total Cost:</strong> $89750.00</div>
          <div><strong>Cost/Unit:</strong> $4.49</div>
          <div><strong>Transit Time:</strong> 1 days</div>
          <div><strong>Efficiency:</strong> 1782.73</div>
          <div style="margin-top: 8px;">
            <div style="height: 4px; background: #14b8a6; border-radius: 2px; width: -123.12842361533777%;"></div>
          </div>
        </div>
      
        <div class="scenario-card best">
          <div class="scenario-title">Ocean Freight üèÜ</div>
          <div><strong>Total Cost:</strong> $16430.00</div>
          <div><strong>Cost/Unit:</strong> $0.82</div>
          <div><strong>Transit Time:</strong> 21 days</div>
          <div><strong>Efficiency:</strong> 9738.28</div>
          <div style="margin-top: 8px;">
            <div style="height: 4px; background: #22c55e; border-radius: 2px; width: 100%;"></div>
          </div>
        </div>
      </div>
        <div class="chart-container">
          <canvas id="comparisonChart" style="box-sizing: border-box;" width="300"></canvas>
        </div>
      </div>

      <!-- Route Optimization Section -->
      <div class="scenario-section" id="optimizationSection" style="display:none;">
        <h3 style="color: var(--teal);"><i class="fa-solid fa-route"></i> Route Optimization Analysis</h3>
        <div class="scenario-grid" id="optimizationGrid">
          <!-- Generated optimization scenarios -->
        </div>
        <div class="chart-container">
          <canvas id="optimizationChart"></canvas>
        </div>
      </div>

      <!-- Learning Panel -->
      <div class="education-box">
        <h3><i class="fa-solid fa-graduation-cap"></i> Transportation Cost Management - Strategic Framework</h3>
        <div style="margin-bottom:12px;">
          <b>Master transportation cost analysis to optimize logistics operations, reduce shipping expenses, and improve supply chain efficiency.</b>
        </div>
        
        <h4>1. Total Transportation Cost <span class="feature-tag">Core Formula</span><span class="feature-tag">Comprehensive</span></h4>
        <div class="formula">Total Cost = Base Cost + Fuel Cost + Insurance + Accessorial + Labor</div>
        <div>Comprehensive calculation including all direct and indirect transportation expenses.</div>
        
        <h4>2. Cost Per Unit Analysis <span class="feature-tag">Efficiency</span><span class="feature-tag">KPI</span></h4>
        <div class="formula">Cost/Unit = Total Transportation Cost / Quantity Shipped</div>
        <div>Key metric for comparing efficiency across different shipments and transportation modes.</div>
        
        <h4>3. Transportation Efficiency <span class="feature-tag">Optimization</span><span class="feature-tag">Performance</span></h4>
        <div class="formula">Efficiency = (Weight √ó Distance) / Total Cost</div>
        <div>Measures how effectively transportation resources are utilized relative to cargo and distance.</div>
        
        <h4>4. Break-Even Distance <span class="feature-tag">Decision Support</span><span class="feature-tag">Strategic</span></h4>
        <div class="formula">Break-Even = Fixed Costs / (Rate per Mile - Variable Cost per Mile)</div>
        <div>Critical distance where transportation mode becomes cost-effective compared to alternatives.</div>
        
        <h4>Transportation Mode Characteristics</h4>
        <ul>
          <li><b>Road Transport:</b> Flexible, door-to-door, higher cost per ton-mile, fast for short distances</li>
          <li><b>Rail Transport:</b> Cost-effective for bulk, long distances, limited accessibility, weather dependent</li>
          <li><b>Air Freight:</b> Fastest, highest cost, ideal for high-value/time-sensitive goods</li>
          <li><b>Ocean Freight:</b> Lowest cost for international, slow, suitable for non-urgent bulk cargo</li>
          <li><b>Multimodal:</b> Combines advantages of multiple modes, requires coordination</li>
        </ul>
        
        <h4>Cost Optimization Strategies</h4>
        <ul>
          <li><b>Consolidation:</b> Combine shipments to achieve better rates and utilization</li>
          <li><b>Route Optimization:</b> Use technology to find most efficient paths and reduce mileage</li>
          <li><b>Modal Selection:</b> Choose optimal transport mode based on cost, time, and service requirements</li>
          <li><b>Carrier Negotiation:</b> Leverage volume and relationships for better rates</li>
          <li><b>Fuel Management:</b> Monitor fuel costs and implement fuel-efficient practices</li>
        </ul>
        
        <h4>Key Performance Indicators</h4>
        <ul>
          <li><b>Transportation Cost as % of Sales:</b> Benchmark against industry standards</li>
          <li><b>Cost per Mile/Kilometer:</b> Track efficiency over distance</li>
          <li><b>Load Factor:</b> Percentage of vehicle capacity utilized</li>
          <li><b>On-Time Delivery:</b> Service level performance measurement</li>
          <li><b>Claims Ratio:</b> Cargo damage/loss as percentage of shipments</li>
        </ul>
        
        <h4>Business Impact</h4>
        <ul>
          <li>Reduce total logistics costs through optimized transportation decisions</li>
          <li>Improve customer satisfaction with reliable and cost-effective delivery</li>
          <li>Enhance competitive advantage through efficient supply chain operations</li>
          <li>Support strategic decisions on distribution network design</li>
          <li>Enable data-driven negotiations with transportation providers</li>
        </ul>
      </div>

    </div><!-- main-section -->

    <!-- Toast -->
    <div class="toast success" id="toast" style="display: none;">Form reset successfully!</div>
    <footer>
      Built with ‚ù§Ô∏è by Ashi | Empowering tomorrow's management leaders<br>
      Connect: 
      <a class="insta-link" href="https://www.instagram.com/ashish_singh_rajput_3" target="_blank">@ashish_singh_rajput_3</a>
    </footer>
  </div>

  <script>
    // --- TEMPLATE DATA ---
    const templates = {
      local_delivery: {
        transportMode: 'truck',
        cargoType: 'general',
        serviceLevel: 'standard',
        distance: 50,
        weight: 500,
        volume: 25,
        stops: 3,
        transitTime: 1,
        fuelPrice: 3.50,
        baseRate: 3.00,
        fuelSurcharge: 10,
        insuranceRate: 1,
        cargoValue: 10000,
        accessorialCharges: 100,
        laborCost: 250
      },
      long_haul: {
        transportMode: 'truck',
        cargoType: 'general',
        serviceLevel: 'standard',
        distance: 1200,
        weight: 40000,
        volume: 2000,
        stops: 2,
        transitTime: 3,
        fuelPrice: 3.50,
        baseRate: 2.50,
        fuelSurcharge: 15,
        insuranceRate: 2,
        cargoValue: 100000,
        accessorialCharges: 300,
        laborCost: 350
      },
      air_freight: {
        transportMode: 'air',
        cargoType: 'general',
        serviceLevel: 'express',
        distance: 2500,
        weight: 2000,
        volume: 200,
        stops: 1,
        transitTime: 1,
        fuelPrice: 4.00,
        baseRate: 8.50,
        fuelSurcharge: 25,
        insuranceRate: 3,
        cargoValue: 200000,
        accessorialCharges: 500,
        laborCost: 400
      },
      ocean_freight: {
        transportMode: 'sea',
        cargoType: 'general',
        serviceLevel: 'economy',
        distance: 8000,
        weight: 20000,
        volume: 1000,
        stops: 2,
        transitTime: 21,
        fuelPrice: 3.00,
        baseRate: 0.80,
        fuelSurcharge: 20,
        insuranceRate: 2.5,
        cargoValue: 150000,
        accessorialCharges: 800,
        laborCost: 200
      },
      rail_transport: {
        transportMode: 'rail',
        cargoType: 'general',
        serviceLevel: 'standard',
        distance: 1500,
        weight: 50000,
        volume: 3000,
        stops: 3,
        transitTime: 7,
        fuelPrice: 3.20,
        baseRate: 1.20,
        fuelSurcharge: 12,
        insuranceRate: 1.5,
        cargoValue: 80000,
        accessorialCharges: 400,
        laborCost: 280
      }
    };

    function loadTemplate(type) {
      const template = templates[type];
      if (!template) return;
      
      Object.keys(template).forEach(key => {
        const element = document.getElementById(key);
        if (element) {
          element.value = template[key];
        }
      });
      
      showToast(`${type.replace('_', ' ').replace(/\b\w/g, l => l.toUpperCase())} template loaded!`, 'success');
    }

    // --- TRANSPORTATION COST CALCULATION ---
    
    function calculateTransportCost() {
      // Get input values
      const distance = parseFloat(document.getElementById('distance').value) || 0;
      const weight = parseFloat(document.getElementById('weight').value) || 0;
      const volume = parseFloat(document.getElementById('volume').value) || 0;
      const stops = parseFloat(document.getElementById('stops').value) || 1;
      const transitTime = parseFloat(document.getElementById('transitTime').value) || 1;
      const fuelPrice = parseFloat(document.getElementById('fuelPrice').value) || 0;
      const baseRate = parseFloat(document.getElementById('baseRate').value) || 0;
      const fuelSurcharge = parseFloat(document.getElementById('fuelSurcharge').value) || 0;
      const insuranceRate = parseFloat(document.getElementById('insuranceRate').value) || 0;
      const cargoValue = parseFloat(document.getElementById('cargoValue').value) || 0;
      const accessorialCharges = parseFloat(document.getElementById('accessorialCharges').value) || 0;
      const laborCost = parseFloat(document.getElementById('laborCost').value) || 0;
      
      const transportMode = document.getElementById('transportMode').value;
      const cargoType = document.getElementById('cargoType').value;
      const serviceLevel = document.getElementById('serviceLevel').value;

      if (distance <= 0 || weight <= 0) {
        showToast('Please enter valid distance and weight values!', 'error');
        return;
      }

      // Calculate cost components
      const baseCost = distance * baseRate;
      const fuelCost = baseCost * (fuelSurcharge / 100);
      const insuranceCost = cargoValue * (insuranceRate / 100);
      const totalLaborCost = laborCost * transitTime;
      const stopCharges = (stops - 1) * 50; // Additional stop charges
      
      // Apply service level multipliers
      const serviceLevelMultipliers = {
        economy: 0.9,
        standard: 1.0,
        express: 1.3,
        premium: 1.6
      };
      
      // Apply cargo type multipliers
      const cargoTypeMultipliers = {
        general: 1.0,
        perishable: 1.2,
        hazmat: 1.5,
        oversized: 1.4,
        liquid: 1.1
      };
      
      const serviceMultiplier = serviceLevelMultipliers[serviceLevel] || 1.0;
      const cargoMultiplier = cargoTypeMultipliers[cargoType] || 1.0;
      
      // Calculate total costs
      const subtotal = (baseCost + fuelCost) * serviceMultiplier * cargoMultiplier;
      const totalTransportCost = subtotal + insuranceCost + accessorialCharges + totalLaborCost + stopCharges;
      
      // Calculate metrics
      const costPerUnit = weight > 0 ? totalTransportCost / weight : 0;
      const costPerMile = distance > 0 ? totalTransportCost / distance : 0;
      const efficiency = (weight * distance) / totalTransportCost;
      const costPerDay = transitTime > 0 ? totalTransportCost / transitTime : 0;
      
      const results = {
        baseCost,
        fuelCost,
        insuranceCost,
        accessorialCharges,
        totalLaborCost,
        stopCharges,
        totalTransportCost,
        costPerUnit,
        costPerMile,
        efficiency,
        costPerDay,
        transportMode,
        cargoType,
        serviceLevel,
        distance,
        weight,
        transitTime
      };

      displayResults(results);
    }

    function displayResults(results) {
      // Show metrics cards
      const metricsHtml = `
        <div class="result-card total-cost">
          <div class="result-value">$${results.totalTransportCost.toFixed(2)}</div>
          <div class="result-label">Total Transportation Cost</div>
          <div class="result-sublabel">${results.transportMode.toUpperCase()} - ${results.serviceLevel}</div>
        </div>
        <div class="result-card per-unit">
          <div class="result-value">$${results.costPerUnit.toFixed(2)}</div>
          <div class="result-label">Cost per Unit Weight</div>
          <div class="result-sublabel">$/lb or $/kg</div>
        </div>
        <div class="result-card efficiency">
          <div class="result-value">${results.efficiency.toFixed(2)}</div>
          <div class="result-label">Transport Efficiency</div>
          <div class="result-sublabel">Weight√óDistance/$</div>
        </div>
        <div class="result-card savings">
          <div class="result-value">$${results.costPerMile.toFixed(2)}</div>
          <div class="result-label">Cost per Mile</div>
          <div class="result-sublabel">Distance efficiency</div>
        </div>
      `;
      document.getElementById('metricsGrid').innerHTML = metricsHtml;

      // Cost breakdown
      const breakdownHtml = `
        <div class="cost-item">
          <span class="cost-label">Base Transportation Cost</span>
          <span class="cost-value">$${results.baseCost.toFixed(2)}</span>
        </div>
        <div class="cost-item">
          <span class="cost-label">Fuel Surcharge</span>
          <span class="cost-value">$${results.fuelCost.toFixed(2)}</span>
        </div>
        <div class="cost-item">
          <span class="cost-label">Insurance Cost</span>
          <span class="cost-value">$${results.insuranceCost.toFixed(2)}</span>
        </div>
        <div class="cost-item">
          <span class="cost-label">Labor/Driver Cost</span>
          <span class="cost-value">$${results.totalLaborCost.toFixed(2)}</span>
        </div>
        <div class="cost-item">
          <span class="cost-label">Accessorial Charges</span>
          <span class="cost-value">$${results.accessorialCharges.toFixed(2)}</span>
        </div>
        <div class="cost-item">
          <span class="cost-label">Stop Charges</span>
          <span class="cost-value">$${results.stopCharges.toFixed(2)}</span>
        </div>
        <div class="cost-item">
          <span class="cost-label">TOTAL COST</span>
          <span class="cost-value">$${results.totalTransportCost.toFixed(2)}</span>
        </div>
      `;
      document.getElementById('costBreakdown').innerHTML = 
        '<h4 style="color: var(--teal); margin-bottom: 16px;"><i class="fa-solid fa-list"></i> Detailed Cost Breakdown</h4>' + breakdownHtml;

      // Generate table
      generateTransportTable(results);
      
      // Generate chart
      generateTransportChart(results);
      
      // Show results section
      document.getElementById('resultsSection').style.display = '';
      
      showToast('Transportation cost analysis completed!', 'success');
    }

    function generateTransportTable(results) {
      const tableRows = `
        <tr>
          <th>Metric</th>
          <th>Value</th>
          <th>Unit</th>
          <th>Description</th>
        </tr>
        <tr>
          <td>Total Cost</td>
          <td>$${results.totalTransportCost.toFixed(2)}</td>
          <td>USD</td>
          <td>Complete transportation expense</td>
        </tr>
        <tr>
          <td>Cost per Unit Weight</td>
          <td>$${results.costPerUnit.toFixed(2)}</td>
          <td>$/unit</td>
          <td>Cost efficiency per weight unit</td>
        </tr>
        <tr>
          <td>Cost per Mile</td>
          <td>$${results.costPerMile.toFixed(2)}</td>
          <td>$/mile</td>
          <td>Distance-based cost efficiency</td>
        </tr>
        <tr>
          <td>Cost per Day</td>
          <td>$${results.costPerDay.toFixed(2)}</td>
          <td>$/day</td>
          <td>Time-based cost allocation</td>
        </tr>
        <tr>
          <td>Transport Efficiency</td>
          <td>${results.efficiency.toFixed(2)}</td>
          <td>ratio</td>
          <td>Weight√óDistance per dollar spent</td>
        </tr>
        <tr>
          <td>Transit Time</td>
          <td>${results.transitTime}</td>
          <td>days</td>
          <td>Total delivery time</td>
        </tr>
      `;
      
      document.getElementById('transportTable').innerHTML = tableRows;
    }

    let transportChart = null;
    function generateTransportChart(results) {
      if (transportChart) transportChart.destroy();
      
      const ctx = document.getElementById('transportChart').getContext('2d');
      
      transportChart = new Chart(ctx, {
        type: 'doughnut',
        data: {
          labels: ['Base Cost', 'Fuel Surcharge', 'Insurance', 'Labor', 'Accessorial', 'Stop Charges'],
          datasets: [{
            data: [
              results.baseCost,
              results.fuelCost,
              results.insuranceCost,
              results.totalLaborCost,
              results.accessorialCharges,
              results.stopCharges
            ],
            backgroundColor: [
              '#14b8a6',
              '#f59e0b',
              '#8b5cf6',
              '#f97316',
              '#ef4444',
              '#22c55e'
            ],
            borderWidth: 2,
            borderColor: '#1f2937'
          }]
        },
        options: {
          responsive: true,
          plugins: {
            legend: { 
              labels: { color: '#c6dbfa' },
              position: 'bottom'
            },
            title: { 
              display: true, 
              text: 'Transportation Cost Breakdown',
              color: '#c6dbfa',
              font: { size: 16 }
            }
          }
        }
      });
    }

    function compareTransportModes() {
      const baseInputs = getCurrentInputs();
      if (!baseInputs) {
        showToast('Please fill in the transportation details first!', 'warning');
        return;
      }

      const modes = [
        { name: 'Road Transport', mode: 'truck', baseRate: 2.50, fuelSurcharge: 15, transitTime: 3 },
        { name: 'Rail Transport', mode: 'rail', baseRate: 1.20, fuelSurcharge: 12, transitTime: 7 },
        { name: 'Air Freight', mode: 'air', baseRate: 8.50, fuelSurcharge: 25, transitTime: 1 },
        { name: 'Ocean Freight', mode: 'sea', baseRate: 0.80, fuelSurcharge: 20, transitTime: 21 }
      ];

      const comparisons = modes.map(mode => {
        const modifiedInputs = { ...baseInputs, ...mode };
        const cost = calculateModeSpecificCost(modifiedInputs);
        const costPerUnit = cost.total / baseInputs.weight;
        const efficiency = (baseInputs.weight * baseInputs.distance) / cost.total;
        
        return {
          ...mode,
          totalCost: cost.total,
          costPerUnit,
          efficiency,
          costPerDay: cost.total / mode.transitTime
        };
      });

      // Find best option by total cost
      const bestOption = comparisons.reduce((best, current) => 
        current.totalCost < best.totalCost ? current : best
      );

      displayModeComparison(comparisons, bestOption);
    }

    function calculateModeSpecificCost(inputs) {
      const baseCost = inputs.distance * inputs.baseRate;
      const fuelCost = baseCost * (inputs.fuelSurcharge / 100);
      const insuranceCost = inputs.cargoValue * (inputs.insuranceRate / 100);
      const laborCost = inputs.laborCost * inputs.transitTime;
      const accessorial = inputs.accessorialCharges;
      
      return {
        base: baseCost,
        fuel: fuelCost,
        insurance: insuranceCost,
        labor: laborCost,
        accessorial: accessorial,
        total: baseCost + fuelCost + insuranceCost + laborCost + accessorial
      };
    }

    function displayModeComparison(comparisons, bestOption) {
      const comparisonHtml = comparisons.map(comp => `
        <div class="scenario-card ${comp === bestOption ? 'best' : ''}">
          <div class="scenario-title">${comp.name} ${comp === bestOption ? 'üèÜ' : ''}</div>
          <div><strong>Total Cost:</strong> $${comp.totalCost.toFixed(2)}</div>
          <div><strong>Cost/Unit:</strong> $${comp.costPerUnit.toFixed(2)}</div>
          <div><strong>Transit Time:</strong> ${comp.transitTime} days</div>
          <div><strong>Efficiency:</strong> ${comp.efficiency.toFixed(2)}</div>
          <div style="margin-top: 8px;">
            <div style="height: 4px; background: ${comp === bestOption ? '#22c55e' : '#14b8a6'}; border-radius: 2px; width: ${100 - ((comp.totalCost - bestOption.totalCost) / bestOption.totalCost * 50)}%;"></div>
          </div>
        </div>
      `).join('');
      
      document.getElementById('comparisonGrid').innerHTML = comparisonHtml;
      document.getElementById('comparisonSection').style.display = '';
      
      generateComparisonChart(comparisons);
      showToast(`Mode comparison completed! Best option: ${bestOption.name}`, 'success');
    }

    let comparisonChart = null;
    function generateComparisonChart(comparisons) {
      if (comparisonChart) comparisonChart.destroy();
      
      const ctx = document.getElementById('comparisonChart').getContext('2d');
      
      comparisonChart = new Chart(ctx, {
        type: 'bar',
        data: {
          labels: comparisons.map(c => c.name),
          datasets: [
            {
              label: 'Total Cost ($)',
              data: comparisons.map(c => c.totalCost),
              backgroundColor: '#14b8a6',
              borderColor: '#0d9488',
              borderWidth: 1
            },
            {
              label: 'Transit Time (days)',
              data: comparisons.map(c => c.transitTime * 100), // Scale for visibility
              backgroundColor: '#f59e0b',
              borderColor: '#d97706',
              borderWidth: 1,
              yAxisID: 'y1'
            }
          ]
        },
        options: {
          responsive: true,
          plugins: {
            legend: { labels: { color: '#c6dbfa' } },
            title: { 
              display: true, 
              text: 'Transportation Mode Comparison',
              color: '#c6dbfa',
              font: { size: 16 }
            }
          },
          scales: {
            x: { ticks: { color: '#9ca3af' } },
            y: { 
              type: 'linear',
              display: true,
              position: 'left',
              ticks: { color: '#9ca3af' },
              title: { display: true, text: 'Total Cost ($)', color: '#9ca3af' }
            },
            y1: {
              type: 'linear',
              display: true,
              position: 'right',
              ticks: { 
                color: '#9ca3af',
                callback: function(value) { return (value / 100).toFixed(0) + ' days'; }
              },
              title: { display: true, text: 'Transit Time', color: '#9ca3af' },
              grid: { drawOnChartArea: false }
            }
          }
        }
      });
    }

    function optimizeRoute() {
      const baseInputs = getCurrentInputs();
      if (!baseInputs) {
        showToast('Please fill in the transportation details first!', 'warning');
        return;
      }

      const optimizationScenarios = [
        { 
          name: 'Current Route', 
          distance: baseInputs.distance, 
          stops: baseInputs.stops, 
          transitTime: baseInputs.transitTime,
          description: 'Your current routing plan'
        },
        { 
          name: 'Direct Route', 
          distance: baseInputs.distance * 0.85, 
          stops: 1, 
          transitTime: Math.max(1, baseInputs.transitTime - 1),
          description: 'Minimize stops and distance'
        },
        { 
          name: 'Consolidated Route', 
          distance: baseInputs.distance * 1.1, 
          stops: baseInputs.stops + 2, 
          transitTime: baseInputs.transitTime + 1,
          description: 'Consolidate with other shipments'
        },
        { 
          name: 'Express Route', 
          distance: baseInputs.distance * 0.9, 
          stops: baseInputs.stops, 
          transitTime: Math.max(1, Math.ceil(baseInputs.transitTime * 0.6)),
          description: 'Fastest delivery option'
        }
      ];

      const optimizationResults = optimizationScenarios.map(scenario => {
        const modifiedInputs = { 
          ...baseInputs, 
          distance: scenario.distance, 
          stops: scenario.stops, 
          transitTime: scenario.transitTime 
        };
        const cost = calculateModeSpecificCost(modifiedInputs);
        const timeValue = baseInputs.cargoValue * 0.001 * (baseInputs.transitTime - scenario.transitTime); // Time value savings
        const totalValue = cost.total - timeValue;
        
        return {
          ...scenario,
          totalCost: cost.total,
          timeValue: timeValue,
          netValue: totalValue,
          savings: baseInputs.totalCost ? baseInputs.totalCost - cost.total : 0,
          efficiency: (baseInputs.weight * scenario.distance) / cost.total
        };
      });

      const bestRoute = optimizationResults.reduce((best, current) => 
        current.netValue < best.netValue ? current : best
      );

      displayRouteOptimization(optimizationResults, bestRoute);
    }

    function displayRouteOptimization(scenarios, bestRoute) {
      const optimizationHtml = scenarios.map(scenario => `
        <div class="scenario-card ${scenario === bestRoute ? 'best' : ''}">
          <div class="scenario-title">${scenario.name} ${scenario === bestRoute ? 'üèÜ' : ''}</div>
          <div><strong>Total Cost:</strong> $${scenario.totalCost.toFixed(2)}</div>
          <div><strong>Distance:</strong> ${scenario.distance.toFixed(0)} miles</div>
          <div><strong>Stops:</strong> ${scenario.stops}</div>
          <div><strong>Transit Time:</strong> ${scenario.transitTime} days</div>
          <div><strong>Savings:</strong> $${scenario.savings.toFixed(2)}</div>
          <div style="margin-top: 4px; font-size: 0.85em; color: var(--text-secondary);">
            ${scenario.description}
          </div>
        </div>
      `).join('');
      
      document.getElementById('optimizationGrid').innerHTML = optimizationHtml;
      document.getElementById('optimizationSection').style.display = '';
      
      generateOptimizationChart(scenarios);
      showToast(`Route optimization completed! Best route: ${bestRoute.name}`, 'success');
    }

    let optimizationChart = null;
    function generateOptimizationChart(scenarios) {
      if (optimizationChart) optimizationChart.destroy();
      
      const ctx = document.getElementById('optimizationChart').getContext('2d');
      
      optimizationChart = new Chart(ctx, {
        type: 'scatter',
        data: {
          datasets: scenarios.map((scenario, index) => ({
            label: scenario.name,
            data: [{ x: scenario.transitTime, y: scenario.totalCost }],
            backgroundColor: ['#14b8a6', '#f59e0b', '#8b5cf6', '#ef4444'][index],
            borderColor: ['#0d9488', '#d97706', '#7c3aed', '#dc2626'][index],
            pointRadius: 8,
            pointHoverRadius: 10
          }))
        },
        options: {
          responsive: true,
          plugins: {
            legend: { labels: { color: '#c6dbfa' } },
            title: { 
              display: true, 
              text: 'Route Optimization: Cost vs Time Trade-off',
              color: '#c6dbfa',
              font: { size: 16 }
            }
          },
          scales: {
            x: { 
              title: { display: true, text: 'Transit Time (days)', color: '#9ca3af' },
              ticks: { color: '#9ca3af' }
            },
            y: { 
              title: { display: true, text: 'Total Cost ($)', color: '#9ca3af' },
              ticks: { color: '#9ca3af' }
            }
          }
        }
      });
    }

    function getCurrentInputs() {
      const distance = parseFloat(document.getElementById('distance').value);
      const weight = parseFloat(document.getElementById('weight').value);
      const cargoValue = parseFloat(document.getElementById('cargoValue').value);
      const transitTime = parseFloat(document.getElementById('transitTime').value);
      const stops = parseFloat(document.getElementById('stops').value);
      const baseRate = parseFloat(document.getElementById('baseRate').value);
      const fuelSurcharge = parseFloat(document.getElementById('fuelSurcharge').value);
      const insuranceRate = parseFloat(document.getElementById('insuranceRate').value);
      const laborCost = parseFloat(document.getElementById('laborCost').value);
      const accessorialCharges = parseFloat(document.getElementById('accessorialCharges').value);

      if (!distance || !weight) return null;

      return {
        distance, weight, cargoValue, transitTime, stops, baseRate, 
        fuelSurcharge, insuranceRate, laborCost, accessorialCharges
      };
    }

    function exportAnalysis() {
      if (document.getElementById('resultsSection').style.display === 'none') {
        showToast('No results to export!', 'error');
        return;
      }
      
      // Create CSV content
      let csv = 'Transportation Cost Analysis Report\n\n';
      
      // Add summary metrics
      const metrics = document.querySelectorAll('#metricsGrid .result-card');
      csv += 'Summary Metrics\n';
      metrics.forEach(metric => {
        const label = metric.querySelector('.result-label').textContent;
        const value = metric.querySelector('.result-value').textContent;
        csv += `${label},${value}\n`;
      });
      
      // Add cost breakdown
      csv += '\nCost Breakdown\n';
      const costItems = document.querySelectorAll('#costBreakdown .cost-item');
      costItems.forEach(item => {
        const label = item.querySelector('.cost-label').textContent;
        const value = item.querySelector('.cost-value').textContent;
        csv += `${label},${value}\n`;
      });
      
      // Download CSV
      const blob = new Blob([csv], { type: 'text/csv' });
      const url = window.URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = 'transportation_cost_analysis.csv';
      a.click();
      window.URL.revokeObjectURL(url);
      
      showToast('Transportation analysis exported successfully!', 'success');
    }

    function resetForm() {
      // Reset all form fields to defaults
      document.getElementById('distance').value = '500';
      document.getElementById('weight').value = '2000';
      document.getElementById('volume').value = '100';
      
      // Hide result sections
      document.getElementById('resultsSection').style.display = 'none';
      document.getElementById('comparisonSection').style.display = 'none';
      document.getElementById('optimizationSection').style.display = 'none';
      
      // Destroy charts
      if (transportChart) transportChart.destroy();
      if (comparisonChart) comparisonChart.destroy();
      if (optimizationChart) optimizationChart.destroy();
      
      showToast('Form reset successfully!', 'success');
    }

    function showToast(msg, type = 'success') {
      const toast = document.getElementById('toast');
      toast.textContent = msg;
      toast.className = `toast ${type}`;
      toast.style.display = 'block';
      setTimeout(() => { toast.style.display = 'none'; }, 3000);
    }
  </script>


            <script></script>
        
    
</body><grammarly-desktop-integration data-grammarly-shadow-root="true"></grammarly-desktop-integration>